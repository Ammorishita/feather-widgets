@model Telerik.Sitefinity.Frontend.Mvc.Models.ContentListViewModel

@using Telerik.Sitefinity;
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Modules.Pages;
@using Telerik.Sitefinity.Frontend.Media.Mvc.Models.ImageGallery;

@Html.Script(ScriptRef.JQuery, "top", false)

<div class="@Model.CssClass">

    @foreach (var item in Model.Items)
    {
        var thumbnailViewModel = (ThumbnailViewModel)item;
        
    <a title="@(string.IsNullOrEmpty(item.Fields.Description) ? item.Fields.Title : item.Fields.Description)">
      <img src="@(thumbnailViewModel.ThumbnailUrl)" alt='@System.Text.RegularExpressions.Regex.Replace(item.Fields.AlternativeText, @"[^\w\d_-]", "")' 
                @(thumbnailViewModel.Width.HasValue ? Html.Raw(string.Format(@"width={0}", thumbnailViewModel.Width.Value)).ToString() : string.Empty)
                @(thumbnailViewModel.Height.HasValue ? Html.Raw(string.Format(@"height={0}", thumbnailViewModel.Height.Value)).ToString() : string.Empty) />
    </a>
    }
</div>

@if (Model.ShowPager)
{
    @Html.Action("Index", "ContentPager", new
       {
           currentPage = Model.CurrentPage,
           totalPagesCount = Model.TotalPagesCount.Value,
           redirectUrlTemplate = ViewBag.RedirectPageUrlTemplate
       })
}
