@model Telerik.Sitefinity.Frontend.Search.Mvc.Models.ISearchResultsModel

@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Frontend.Search.Mvc.Models;

<section class="section">
    <div class="container">
        <div class="col-md-8 col-md-offset-2 row--border">
            <div class="row text-center">
                <h1><span>@Model.TotalResultsCount</span>@Html.Raw(Model.ResultText)</h1>
            </div>
            <div>
                <span>@Html.Resource("ChangeResultsLanguageLabel") </span>
                @for (var i = 0; i < Model.Languages.Length; i++)
                {
                    <a href="@(String.Format(ViewBag.LanguageSearchUrlTemplate, Model.Languages[i].Name))">@Model.Languages[i].DisplayName</a>
                    if (i < Model.Languages.Length - 2)
                    {
                        <span>, </span>
                    }
                    else if (i == Model.Languages.Length - 2)
                    {
                        <span> @Html.Resource("OrLabel") </span>
                    }
                }                
            </div>
            <div id="search-results">
                @foreach (var item in Model.Results)
                {
                    <div class="row" style="margin-bottom: 10px;">
                        <h3><a href="@item.GetValue("Link")">@item.GetValue("Title")</a></h3>
                        <p>@Html.Raw(item.GetValue("HighLighterResult"))</p>
                        <a href="@item.GetValue("Link")">@item.GetValue("Link")</a>
                    </div>
                }

                @if (Model.DisplayMode == ListDisplayMode.Paging && Model.TotalPagesCount != null && Model.TotalPagesCount > 1)
                {
                    @Html.Action("Index", "ContentPager", new
                    {
                        currentPage = Model.CurrentPage,
                        totalPagesCount = Model.TotalPagesCount,
                        redirectUrlTemplate = ViewBag.RedirectPageUrlTemplate
                    })
                }
            </div>

        </div>
    </div>
</section>